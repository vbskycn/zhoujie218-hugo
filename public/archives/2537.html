<!doctype html><html lang=zh-CN><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>老式打印机套娃打印服务器p910nd和cups,实现一些特殊的功能 | 周杰个人博客</title><meta property="og:title" content="老式打印机套娃打印服务器p910nd和cups,实现一些特殊的功能 - 周杰个人博客"><meta property="og:type" content="article"><meta property="article:published_time" content='2023-08-02T00:00:00+08:00'><meta property="article:modified_time" content='2023-08-02T00:00:00+08:00'><meta name=Keywords content="zhoujie218,zhoujie218.top,zhou,blog.zhoujie218.top,周杰,记录点滴生活"><meta name=description content="老式打印机套娃打印服务器p910nd和cups,实现一些特殊的功能"><meta name=author content="zhoujie"><meta property="og:url" content="/archives/2537.html"><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=stylesheet href=/css/normalize.css><link rel=stylesheet href=/css/style.css><script type=text/javascript src=/js/libs/jquery.min.js></script><meta name=google-adsense-account content="ca-pub-6941806026814791"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6941806026814791" crossorigin=anonymous></script><link href=/css/libs/jquery.fancybox.min.css rel=stylesheet><script>!function(e){"use strict";!function(){var s,n=window,o=document,i=e,r="https://sdk.51.la/js-sdk-pro.min.js",t=o.createElement("script"),a=o.getElementsByTagName("script")[0];t.type="text/javascript",t.setAttribute("charset","UTF-8"),t.async=!0,t.src=r,t.id="LA_COLLECT",i.d=t,s=function(){n.LA.ids.push(i)},n.LA?n.LA.ids&&s():(n.LA=e,n.LA.ids=[],s()),a.parentNode.insertBefore(t,a)}()}({id:"25cdlaVdMR4RaXPn",ck:"25cdlaVdMR4RaXPn"})</script></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><a id=logo href=/>周杰个人博客</a><p class=description>记录生活点滴</p></div><div><nav id=nav-menu class=clearfix><a class=current href=/>首页</a>
<a href=/categories/diannaowangruo/ title=电脑网络>电脑网络</a>
<a href=/categories/wangyesheji/ title=网站设计>网站设计</a>
<a href=/categories/shenhuarizhi/ title=生活日志>生活日志</a>
<a href=/archives/ title=归档>归档</a>
<a href=/about/ title=关于>关于</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><style type=text/css>.post-toc{position:fixed;width:200px;margin-left:-210px;padding:5px 10px;font-family:Athelas,STHeiti,Microsoft Yahei,serif;font-size:12px;border:1px solid rgba(0,0,0,7%);border-radius:5px;background-color:rgba(255,255,255,.98);background-clip:padding-box;-webkit-box-shadow:1px 1px 2px rgba(0,0,0,.125);box-shadow:1px 1px 2px rgba(0,0,0,.125);word-wrap:break-word;white-space:normal;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:999;cursor:pointer;max-width:260px;max-height:70%;overflow-y:auto;overflow-x:hidden;top:20px}.post-toc .post-toc-title{width:100%;margin:0 auto;font-size:20px;font-weight:400;text-transform:uppercase;text-align:center}.post-toc .post-toc-content{font-size:15px;word-break:break-word;overflow-wrap:anywhere;white-space:normal}.post-toc .post-toc-content a{display:inline-block;max-width:100%;white-space:normal;word-break:break-word;overflow-wrap:anywhere;line-height:1.6}.post-toc .post-toc-content>nav>ul{margin:10px 0}.post-toc .post-toc-content ul{padding-left:20px;list-style:square;margin:.5em;line-height:1.8em}.post-toc .post-toc-content ul ul{padding-left:15px;display:none}@media print,screen and (max-width:1057px){.post-toc{display:none}}</style><div class=post-toc><h2 class=post-toc-title>文章目录</h2><div class=post-toc-content><nav id=TableOfContents><ul><li><a href=#引子>引子</a></li><li><a href=#提前说结果最后经过实践>提前说结果：最后经过实践</a></li><li><a href=#准备工作>准备工作</a></li><li><a href=#步骤>步骤</a></li><li><a href=#安装与配置p910nd>安装与配置p910nd</a></li><li><a href=#cups添加p910nd网络打印机步骤>cups添加p910nd网络打印机步骤</a></li><li><a href=#实现热插拨>实现热插拨</a></li></ul></nav></div></div><script type=text/javascript>$(function(){var e=$(".post-toc");if(!e.length)return;function t(){var n,s,t=$("#main");if(!t.length||!t.offset())return;n=t.offset().left,n>220?(s=Math.min(n-20,200),e.css({width:s,"margin-left":0-s-10})):e.css({width:200,"margin-left":-210})}t(),$(window).on("resize",t),$("#TableOfContents").children().length<1&&e.remove()})</script><article class=post><header><h1 class=post-title>老式打印机套娃打印服务器p910nd和cups,实现一些特殊的功能</h1></header><time datetime=2023-08-02T00:00:00Z class="post-meta meta-date dt-published">2023年8月2日</time><div class="post-meta meta-category"><span>&nbsp;|</span>
<a href=/categories/it-related>it-related</a>
<a href=/categories/diannaowangruo>diannaowangruo</a></div><div class=post-content><h2 id=引子>引子</h2><p>HP的老旧激光打印机用来在家里给孩子打打作业什么的而是一个不错的选择。然而老旧有老旧的问题：如我的P1108只有USB口，默认情况下只能开PC打印，实在是麻烦。家里正好有常年工作的DS920+，而群晖内置的cups又基本是个废的，只好折腾一下来实现网络共享和无线打印。注意本文基本都是ssh下的终端操作。</p><ul><li><p>Openwrt, 由于路由器的 RAM 一般都比较小，但是直接使用 cups 做打印服务器需要使用较大的资源，因此 Openwrt 系统源里面 现在已经不包含 cups 组件了。因为家里有个wdr3800老路由，安装cups带不动，所以才有了下面的折腾。</p></li><li><p>任意一台 24 小时开机的 Linux 设备一台, 用于安装 CUPS 搭建 Airprint Server 使用, 如果不使用 IOS 设备，就不需要 CUPS</p></li><li><p>如果家中只有 windows 和安卓设备，只需要配置 p910nd</p></li><li><p>如果家中有可以 24 小时开机并且 ram 大于 1G 并且带有 USB 口的设备，只需要配置 cups</p></li></ul><p><a data-fancybox=gallery href=https://img-cloud.zhoujie218.top/2024/06/20/6673add685d3c.png><img class=mx-auto alt src=https://img-cloud.zhoujie218.top/2024/06/20/6673add685d3c.png></a></p><h2 id=提前说结果最后经过实践>提前说结果：最后经过实践</h2><p>ubuntu22.04 默认安装的cups 2.41 自带的 惠普老款驱动 3.21.12 就能驱动我的P1108打印机了，简直是折腾了个腾：）</p><p>不过还是建议你参考本文</p><h2 id=准备工作>准备工作</h2><p>设备：1台P1108，一台DS920+（DSM7.1），一台工作笔记本</p><p>软件：工作笔记本上备好putty、winscp等工具，DS920+开启SSH，下载好最新的hplip和hplip-plugin。</p><p>驱动地址：<a href=https://go.smzdm.com/2f13d177a2f706bc/ca_aa_yc_163_a905p290_17721_1673_173_0>HP Developers Portal | Version: 3.22.10</a></p><p>插件地址：<a href=https://go.smzdm.com/5cc5b1a7dc9ec909/ca_aa_yc_163_a905p290_17721_1673_173_0>HP Developers Portal | Plugins</a></p><h2 id=步骤>步骤</h2><p>因为相关类似的文章挺多的，我这里不全面展开了，很多内容都有成熟的文章可以参考。主要按照操作步骤梳理下， 帮助大家避坑。</p><p>**1、为什么用虚拟机不用docker。**现存的文章用docker的很多，但是我实际操作后暂时没有成功过，常见的几个docker镜像中预置的hplip都不完整或者版本陈旧，总之没有一个能正常把我的P1108驱动起来，而且因为镜像内linux用了小众发行版或者魔改严重、发行版陈旧的问题，无法正常完成hplip的自行编译安装。这条路走不通，于是干脆转向虚拟机了，920+支持VMM，实际上是基于qemu的虚拟机，可以用它跑一个最小化安装的ubuntu server。况且一个完整的linux虚拟机其实能做不少事情，多功能和一也不算浪费。</p><p><strong>2、宿主机（群晖）准备</strong>。为了防止群晖自带cups的不可知冲突，建议干掉它，这部分因为DSM7以后的变化，实际上网上能查到的相关命令并不完整，只有一条关闭服务，并且还要在计划任务里增加杀服务的任务。实际上我们需要执行3条指令，执行完后不需要再添加计划任务了。</p><p>连接宿主机（群晖）的ssh，分别执行以下几条命令。首先停下cups：</p><blockquote><p>sudo synosystemctl stop cupsd</p></blockquote><p>然后禁用自启：</p><blockquote><p>sudo synosystemctl disable cupsd</p></blockquote><p>最后禁用服务</p><blockquote><p>sudo synosystemctl mask cupsd</p></blockquote><p>操作完以后群晖自带的cups就先让它byebye了。</p><p>centos</p><pre tabindex=0><code>yum -y install cups-pdf #安装

systemctl start cups   #开始

systemctl enable cups  #开启

systemctl status cups   #查看

systemctl restart cups  #重启
</code></pre><p>**3、Ubuntu虚拟机安装。**这里不详细展开了，可以参考以下几篇文章，为了节省资源我是装的server版，没有安装图形界面，这个可以丰简由人。我给虚拟机分配了20G虚拟磁盘空间，主要考虑给后续其他折腾的东西做点预留。注意下可以直接在安装时候就指定好虚拟机的固定ip，并且22.04 server安装的时候可以选择最小化安装，另外记得替换国内源并开启ssh。</p><p>[
<a data-fancybox=gallery href=https://img-cloud.zhoujie218.top/2024/06/20/6673add722cbb.png><img class=mx-auto alt="我没装qemu-guest-agent，可以sudo apt-get install qemu-guest-agent安装一下" src=https://img-cloud.zhoujie218.top/2024/06/20/6673add722cbb.png></a></p><p>我没装qemu-guest-agent，可以sudo apt-get install qemu-guest-agent安装一下</p><p><a href=/p/a905p290/pic_3/><a data-fancybox=gallery href=https://img-cloud.zhoujie218.top/2024/06/20/6673add617ace.png><img class=mx-auto alt=这里可以选择最小化安装，对于本项任务是足够了 src=https://img-cloud.zhoujie218.top/2024/06/20/6673add617ace.png></a></a></p><p>这里可以选择最小化安装，对于本项任务是足够了</p><p><a href=/p/a905p290/pic_4/><a data-fancybox=gallery href=https://img-cloud.zhoujie218.top/2024/06/20/6673add5ad139.png><img class=mx-auto alt=建议换成国内源，不然后面安装依赖的时候很杀时间 src=https://img-cloud.zhoujie218.top/2024/06/20/6673add5ad139.png></a></a></p><p>建议换成国内源，不然后面安装依赖的时候很杀时间</p><p><a href=/p/a905p290/pic_5/><a data-fancybox=gallery href=https://img-cloud.zhoujie218.top/2024/06/20/6673add60d29c.png><img class=mx-auto alt=记得开启ssh src=https://img-cloud.zhoujie218.top/2024/06/20/6673add60d29c.png></a></a></p><p>记得开启ssh</p><p>参考1：<a href=https://zhuanlan.zhihu.com/p/613220308>群晖+vmm虚拟机套件安装Ubuntu详细教程（一） - 知乎 (zhihu.com)</a></p><p>参考2：<a href=https://www.cnblogs.com/mefj/p/14964416.html>Ubuntu 20.04 live server版安装(详细版) - 运维密码 - 博客园 (cnblogs.com)</a></p><p><strong>4、打印机驱动安装前的一些小准备。<strong>这里主要是对环境进行进一步配置，比如重要的cups安装。首先使用putty开启ssh连接至</strong>虚拟机（前面安装虚拟机时候可以手动设置地址或者自动获取，记住那个ip）</strong>。</p><blockquote><p>sudo apt-get update</p><p>sudo apt-get upgrade</p><p>sudo apt-get install cups</p></blockquote><p>安装完成后需要配置下</p><blockquote><p>sudo vi /etc/cups/cupsd.conf</p></blockquote><p>注意vi下面按下insert键后进去插入模式可以编辑文本，编辑完成后按esc退出编辑，再键入:wq并回车保存退出。主要是访问权限的设置，不然后续会打不开设置页面。如果只工作在自家局域网，可以把所有的验证改成none，并且删除要求系统管理员的条目，并允许所有访客，各个区段里的样子类似这样。这里我也不熟悉，不多说了，可以找点专业的文章看看。</p><p>修改配置文件为</p><p><code>`修改为AuthType None`</code></p><p>在<code>Order Allow,Deny</code>下面增加 <code>Allow from All</code></p><pre tabindex=0><code>Browsing Off 修改为 Browsing On
</code></pre><p><code>`Listen localhost:631 修改为 Listen 631`</code></p><p>需要外网访问的在</p><pre tabindex=0><code>WebInterface Yes

ServerAlias
*
</code></pre><p>另外监听的网络地址也要从localhost改为0.0.0.0。或是 <code>`Listen localhost:631 修改为 Listen 631`</code>全部完成后重启cups。</p><blockquote><p>sudo /etc/init.d/cups restart</p></blockquote><p>下面是我的ubuntu 22.04 197 cups完整配置文件，以供参考</p><pre tabindex=0><code>#
# Configuration file for the CUPS scheduler.  See &#34;man cupsd.conf&#34; for a
# complete description of this file.
#

# Log general information in error_log - change &#34;warn&#34; to &#34;debug&#34;
# for troubleshooting...
LogLevel warn
PageLogFormat

# Specifies the maximum size of the log files before they are rotated.  The value &#34;0&#34; disables log rotation.
MaxLogSize 0

# Default error policy for printers
ErrorPolicy retry-job

# Only listen for connections from the local machine.
Listen 0.0.0.0:631
Listen /run/cups/cups.sock

# Show shared printers on the local network.
Browsing No
BrowseLocalProtocols dnssd

# Default authentication type, when authentication is required...
DefaultAuthType Basic

# Web interface setting...
WebInterface Yes

ServerAlias *

# Timeout after cupsd exits if idle (applied only if cupsd runs on-demand - with -l)
IdleExitTimeout 60

# Restrict access to the server...
&lt;Location /&gt;
  Order allow,deny
  Allow all
&lt;/Location&gt;

# Restrict access to the admin pages...
&lt;Location /admin&gt;
  Order allow,deny
  Allow all
&lt;/Location&gt;

# Restrict access to configuration files...
&lt;Location /admin/conf&gt;
  AuthType None
  Require user @SYSTEM
  Order allow,deny
  Allow all
&lt;/Location&gt;

# Restrict access to log files...
&lt;Location /admin/log&gt;
  AuthType None
  Require user @SYSTEM
  Order allow,deny
&lt;/Location&gt;

# Set the default printer/job policies...
&lt;Policy default&gt;
  # Job/subscription privacy...
  JobPrivateAccess default
  JobPrivateValues default
  SubscriptionPrivateAccess default
  SubscriptionPrivateValues default

  # Job-related operations must be done by the owner or an administrator...
  &lt;Limit Create-Job Print-Job Print-URI Validate-Job&gt;
    Order deny,allow
  &lt;/Limit&gt;

  &lt;Limit Send-Document Send-URI Hold-Job Release-Job Restart-Job Purge-Jobs Set-Job-Attributes Create-Job-Subscription Renew-Subscription Cancel-Subscription Get-Notifications Reprocess-Job Cancel-Current-Job Suspend-Current-Job Resume-Job Cancel-My-Jobs Close-Job CUPS-Move-Job CUPS-Get-Document&gt;
    Require user @OWNER @SYSTEM
    Order deny,allow
  &lt;/Limit&gt;

  # All administration operations require an administrator to authenticate...
  &lt;Limit CUPS-Add-Modify-Printer CUPS-Delete-Printer CUPS-Add-Modify-Class CUPS-Delete-Class CUPS-Set-Default CUPS-Get-Devices&gt;
    AuthType None
    Require user @SYSTEM
    Order deny,allow
  &lt;/Limit&gt;

  # All printer operations require a printer operator to authenticate...
  &lt;Limit Pause-Printer Resume-Printer Enable-Printer Disable-Printer Pause-Printer-After-Current-Job Hold-New-Jobs Release-Held-New-Jobs Deactivate-Printer Activate-Printer Restart-Printer Shutdown-Printer Startup-Printer Promote-Job Schedule-Job-After Cancel-Jobs CUPS-Accept-Jobs CUPS-Reject-Jobs&gt;
    AuthType None
    Require user @SYSTEM
    Order deny,allow
  &lt;/Limit&gt;

  # Only the owner or an administrator can cancel or authenticate a job...
  &lt;Limit Cancel-Job CUPS-Authenticate-Job&gt;
    Require user @OWNER @SYSTEM
    Order deny,allow
  &lt;/Limit&gt;

  &lt;Limit All&gt;
    Order deny,allow
  &lt;/Limit&gt;
&lt;/Policy&gt;

# Set the authenticated printer/job policies...
&lt;Policy authenticated&gt;
  # Job/subscription privacy...
  JobPrivateAccess default
  JobPrivateValues default
  SubscriptionPrivateAccess default
  SubscriptionPrivateValues default

  # Job-related operations must be done by the owner or an administrator...
  &lt;Limit Create-Job Print-Job Print-URI Validate-Job&gt;
    AuthType None
    Order deny,allow
  &lt;/Limit&gt;

  &lt;Limit Send-Document Send-URI Hold-Job Release-Job Restart-Job Purge-Jobs Set-Job-Attributes Create-Job-Subscription Renew-Subscription Cancel-Subscription Get-Notifications Reprocess-Job Cancel-Current-Job Suspend-Current-Job Resume-Job Cancel-My-Jobs Close-Job CUPS-Move-Job CUPS-Get-Document&gt;
    AuthType None
    Require user @OWNER @SYSTEM
    Order deny,allow
  &lt;/Limit&gt;

  # All administration operations require an administrator to authenticate...
  &lt;Limit CUPS-Add-Modify-Printer CUPS-Delete-Printer CUPS-Add-Modify-Class CUPS-Delete-Class CUPS-Set-Default&gt;
    AuthType None
    Require user @SYSTEM
    Order deny,allow
  &lt;/Limit&gt;

  # All printer operations require a printer operator to authenticate...
  &lt;Limit Pause-Printer Resume-Printer Enable-Printer Disable-Printer Pause-Printer-After-Current-Job Hold-New-Jobs Release-Held-New-Jobs Deactivate-Printer Activate-Printer Restart-Printer Shutdown-Printer Startup-Printer Promote-Job Schedule-Job-After Cancel-Jobs CUPS-Accept-Jobs CUPS-Reject-Jobs&gt;
    AuthType None
    Require user @SYSTEM
    Order deny,allow
  &lt;/Limit&gt;

  # Only the owner or an administrator can cancel or authenticate a job...
  &lt;Limit Cancel-Job CUPS-Authenticate-Job&gt;
    AuthType None
    Require user @OWNER @SYSTEM
    Order deny,allow
  &lt;/Limit&gt;

  &lt;Limit All&gt;
    Order deny,allow
  &lt;/Limit&gt;
&lt;/Policy&gt;

# Set the kerberized printer/job policies...
&lt;Policy kerberos&gt;
  # Job/subscription privacy...
  JobPrivateAccess default
  JobPrivateValues default
  SubscriptionPrivateAccess default
  SubscriptionPrivateValues default

  # Job-related operations must be done by the owner or an administrator...
  &lt;Limit Create-Job Print-Job Print-URI Validate-Job&gt;
    AuthType Negotiate
    Order deny,allow
  &lt;/Limit&gt;

  &lt;Limit Send-Document Send-URI Hold-Job Release-Job Restart-Job Purge-Jobs Set-Job-Attributes Create-Job-Subscription Renew-Subscription Cancel-Subscription Get-Notifications Reprocess-Job Cancel-Current-Job Suspend-Current-Job Resume-Job Cancel-My-Jobs Close-Job CUPS-Move-Job CUPS-Get-Document&gt;
    AuthType Negotiate
    Require user @OWNER @SYSTEM
    Order deny,allow
  &lt;/Limit&gt;

  # All administration operations require an administrator to authenticate...
  &lt;Limit CUPS-Add-Modify-Printer CUPS-Delete-Printer CUPS-Add-Modify-Class CUPS-Delete-Class CUPS-Set-Default&gt;
    AuthType None
    Require user @SYSTEM
    Order deny,allow
  &lt;/Limit&gt;

  # All printer operations require a printer operator to authenticate...
  &lt;Limit Pause-Printer Resume-Printer Enable-Printer Disable-Printer Pause-Printer-After-Current-Job Hold-New-Jobs Release-Held-New-Jobs Deactivate-Printer Activate-Printer Restart-Printer Shutdown-Printer Startup-Printer Promote-Job Schedule-Job-After Cancel-Jobs CUPS-Accept-Jobs CUPS-Reject-Jobs&gt;
    AuthType None
    Require user @SYSTEM
    Order deny,allow
  &lt;/Limit&gt;

  # Only the owner or an administrator can cancel or authenticate a job...
  &lt;Limit Cancel-Job CUPS-Authenticate-Job&gt;
    AuthType Negotiate
    Require user @OWNER @SYSTEM
    Order deny,allow
  &lt;/Limit&gt;

  &lt;Limit All&gt;
    Order deny,allow
  &lt;/Limit&gt;
&lt;/Policy&gt;
</code></pre><p>这时候可以开浏览器看看有没有跑起来，访问[虚拟机ip]:631，如192.168.1.197:631,出现以下页面即可。</p><p><a data-fancybox=gallery href=https://img-cloud.zhoujie218.top/2024/06/20/6673add68906b.png><img class=mx-auto alt=image-20230802082424162 src=https://img-cloud.zhoujie218.top/2024/06/20/6673add68906b.png>
</a>看到这个cups安装基本问题不大</p><p>下面准备hplip的编译安装环境，主要有几个坑，ubuntu上同时有python2.X和3.X。hplip会默认识别到2.X并导致一系列问题，为避免问题，安装一个小插件即可：</p><blockquote><p>sudo apt install python-is-python3</p></blockquote><p>另外如果缺失libavahi-core也会编译出错，这里预先安装上：</p><blockquote><p>sudo apt install libavahi-core-dev</p></blockquote><p>另外因为国内访问python的官方源非常慢，建议预先将源改至国内镜像。</p><p>相关内容可参考：[How to Install the Latest HPLIP Driver in Ubuntu 20.04 [Fix Dependency Issue] | UbuntuHandbook](<a href="https://ubuntuhandbook.org/index.php/2021/07/install-latest-hplip-ubuntu-20-04-fix/#:~:text=HPLIP">https://ubuntuhandbook.org/index.php/2021/07/install-latest-hplip-ubuntu-20-04-fix/#:~:text=HPLIP</a> is an open-source Linux drivers for HP’s,the official binary to get new devices support.)</p><p><strong>5、编译安装hplip驱动。<strong>这里仍旧是在</strong>虚拟机</strong>的ssh操作，将前面下载好的3个hplip和hplip-plugin及校验包推至虚拟机，可以用winscp推上去，这里假设放在/tmp/，即文件的路径分别为/tmp/hplip-3.22.10.run 、/tmp/hplip-3.22.10-plugin.run和/tmp/hplip-3.22.10-plugin.run.asc。</p><p>首先赋予执行权限：</p><blockquote><p>chmod +x /tmp/hplip*.run</p></blockquote><p>然后运行安装</p><blockquote><p>sh /tmp/hplip-3.22.10.run</p></blockquote><p>安装模式可以选自动或手动，如果是单一打印的老式单usb机器，可以在手动模式下把所有模块都关掉，可以减少依赖要求，安装出错可能性减少。</p><p><a href=/p/a905p290/pic_7/><a data-fancybox=gallery href=https://img-cloud.zhoujie218.top/2024/06/20/6673adda2c3e1.png><img class=mx-auto alt=一些安装选项 src=https://img-cloud.zhoujie218.top/2024/06/20/6673adda2c3e1.png></a></a></p><p>一些安装选项</p><p>选择后需要验证下登录用户密码。</p><p><a href=/p/a905p290/pic_8/><a data-fancybox=gallery href=https://img-cloud.zhoujie218.top/2024/06/20/6673addb57a99.png><img class=mx-auto alt=继续一些配置 src=https://img-cloud.zhoujie218.top/2024/06/20/6673addb57a99.png></a></a></p><p>继续一些配置</p><p>后面基本就都是yes和enter，如果预先配置好python和ubuntu的国内镜像源，应该不会有什么问题，直至完成安装即可。</p><p><strong>6、安装hp-plugin。<strong>很多docker镜像里就缺这东西。在</strong>虚拟机</strong>ssh执行：</p><blockquote><p>hp-plugin -i</p></blockquote><p>三个选项建议选p并指定至/tmp/hplip-3.22.10-plugin.run，从官方下载会非常慢，后面如果提示文件校验不了选择忽略就行。我已经安好了，就不继续下一步截图了。</p><p><a href=/p/a905p290/pic_9/><a data-fancybox=gallery href=https://img-cloud.zhoujie218.top/2024/06/20/6673addc60323.png><img class=mx-auto alt=安装hplip-plugin src=https://img-cloud.zhoujie218.top/2024/06/20/6673addc60323.png></a></a></p><p>安装hplip-plugin</p><p>**7、安装并驱动打印机。**这里需要开启打印机<a href=https://www.smzdm.com/ju/s2w5m72/>电源</a>、usb口插在群晖上，然后在群晖的VMM里进行如下设置。（这个动作后续会用脚本自动化）</p><p><a href=/p/a905p290/pic_10/><a data-fancybox=gallery href=https://img-cloud.zhoujie218.top/2024/06/20/6673addcea317.jpeg><img class=mx-auto alt=这里选中打印机，然后点确定 src=https://img-cloud.zhoujie218.top/2024/06/20/6673addcea317.jpeg></a></a></p><p>这里选中打印机，然后点确定</p><p>然后继续在<strong>虚拟机</strong>ssh中执行：</p><blockquote><p>lsusb</p></blockquote><p>可以看到打印机已经被系统识别，记住这个id，后面用的到：</p><blockquote><p>Bus 001 Device 003: ID 03f0:002a HP, Inc LaserJet P1102</p></blockquote><p>执行打印机安装，这里需要sudo，不然识别不到</p><blockquote><p>sudo hp-setup -i</p></blockquote><p>应该就能识别到usb打印机，基本一路y就行，最后可以打印测试页，能打印就说明驱动完成。记得开启共享。回到cups页面也能看到打印机了。</p><p><a data-fancybox=gallery href=https://img-cloud.zhoujie218.top/2024/06/20/6673addcda336.png><img class=mx-auto alt=image-20230802082852660 src=https://img-cloud.zhoujie218.top/2024/06/20/6673addcda336.png></a></p><p>cups里可以看到完成安装的打印机</p><p>**8、应对打印机自动关机引发的问题。**P1108会自动关机，关机后再开机，宿主机（群晖）并不会自动把这个usb设备附加到虚拟机中，那不就完蛋了么，为应对这个问题继续操作（话说这机器在PC上是可以设置不自动关机的，不过我设置不成功，可能需要USB直连时候才能正常设置，回头再试，先解决重新开机后自动附加到虚拟机上的问题）。</p><p>这里我们用到udev匹配设备插入动作，并使用virsh自动向虚拟机附加usb设备。以下在**宿主机（群晖）**的ssh运行，首先查看虚拟机的name：</p><blockquote><p>sudo virsh list &ndash;all</p></blockquote><p>可以看到所有现存的虚拟机，记下配置了打印机的这个虚拟机的name，就是中间那一串hex数字加连字符：</p><blockquote><p>Id Name State</p><p>-&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</p><p>1 864bf6fa-628e-46f0-a1f1-e8274axxxxxx running</p></blockquote><p>下面写一个udev的触发规则，为了不和系统自带规则搞混，把规则放在/etc/udev/rules.d/下，由于群晖没有自带这个规则，可能需要mkdir创建两级目录，并给与755权限。</p><blockquote><p>sudo mkdir /etc/udev</p><p>sudo chmod 755 /etc/udev</p><p>sudo mkdir /etc/udev/rules.d</p><p>sudo chmod 755 /etc/udev/rules.d</p></blockquote><p>新建一条规则，注意优先级给高一点，比如99，文件名规则就是：数字-文件名.rules。我这里如下创建：</p><blockquote><p>sudo vi /etc/udev/rules.d/99-usb-hp.rules</p></blockquote><p>进入vi后按insert开始编辑，输入以下两条规则</p><blockquote><p>ACTION==&ldquo;a<a href=https://pinpai.smzdm.com/102135/>dd</a>&rdquo;, SUBSYSTEM==&ldquo;usb&rdquo;, DRIVER==&ldquo;usb&rdquo;, ATTRS{idVendor}==&ldquo;03f0&rdquo;, ATTRS{idProduct}==&ldquo;002a&rdquo;, RUN+="/usr/bin/sh /etc/udev/rules.d/usb_udev.sh"</p><p>ACTION==&ldquo;remove&rdquo;, SUBSYSTEM==&ldquo;usb&rdquo;, DRIVER==&ldquo;usb&rdquo;, ATTRS{idVendor}==&ldquo;03f0&rdquo;, ATTRS{idProduct}==&ldquo;002a&rdquo;, RUN+="/usr/bin/sh /etc/udev/rules.d/usb_udev_rm.sh"</p></blockquote><p>这里的ATTRS{idVendor}和ATTRS{idProduct}分别是前面lsusb时候记下的id里冒号前后的数字。RUN+=后是需要执行的命令，这里执行的命令需要指定到命令的二进制文件地址，我才疏学浅没找到virsh在群晖里的二进制位置，只能退而求其次写两个脚本实现功能。完成编辑后先esc然后:wq回车保存退出。</p><p>继续写两个脚本，分别是插入usb设备和取下时候的动作，其实可以合并一个脚本加个action判断，不过我懒。</p><blockquote><p>sudo vi /etc/udev/rules.d/usb_udev.sh</p></blockquote><p>里面内容是</p><blockquote><p>#!/bin/bash</p><p>virsh attach-device 864bf6fa-628e-46f0-a1f1-e8274axxxxxx /etc/udev/rules.d/hpusb.xml</p></blockquote><p>中间那一串是刚记下的虚拟机name，后面那个是usb设备的描述，等会写它。</p><p>vi保存退出，给脚本赋权：</p><blockquote><p>sudo chmod +x /etc/udev/rules.d/usb_udev.sh</p></blockquote><p>再写拔下设备的脚本</p><blockquote><p>sudo vi /etc/udev/rules.d/usb_udev_rm.sh</p></blockquote><p>里面内容如下，注意attach变成detach</p><blockquote><p>#!/bin/bash</p><p>virsh detach-device 864bf6fa-628e-46f0-a1f1-e8274axxxxxx /etc/udev/rules.d/hpusb.xml</p></blockquote><p>vi保存退出，给脚本赋权：</p><blockquote><p>sudo chmod +x /etc/udev/rules.d/usb_udev_rm.sh</p></blockquote><p>继续写hpusb.xml:</p><blockquote><p>sudo vi /etc/udev/rules.d/hpusb.xml</p></blockquote><p>里面内容：</p><blockquote></blockquote><p>注意vendorid和productid和前面的规则里保持一致。保存退出。</p><p>至此规则写完，让udev重新加载规则：</p><blockquote><p>sudo udevadm control &ndash;reload</p><p>sudo synosystemctl daemon-reload</p></blockquote><p>这样就OK了。打印机重启或者usb拔下重插后会自动附加到虚拟机里。不需要人工去VMM挂上。</p><p>**9、打印机共享。**这里没什么需要设置的，局域网里的PC能直接识别到。如果是安卓设备可以装个Mopria Print，连上局域网同网段WIFI也可以自动识别到打印机。</p><p><a href=/p/a905p290/pic_12/><a data-fancybox=gallery href=https://img-cloud.zhoujie218.top/2024/06/20/6673adde1104e.png><img class=mx-auto alt src=https://img-cloud.zhoujie218.top/2024/06/20/6673adde1104e.png></a></a></p><p>这里设置的关闭自动关机不成功，回头usb直连试试。</p><p><a href=/p/a905p290/pic_13/><a data-fancybox=gallery href=https://img-cloud.zhoujie218.top/2024/06/20/6673ade06c49f.jpeg><img class=mx-auto alt=安卓手机识别到的打印机 src=https://img-cloud.zhoujie218.top/2024/06/20/6673ade06c49f.jpeg></a></a></p><p>安卓手机识别到的打印机</p><p>到这里基本就折腾完了，P1108本身没有内置的纸槽，所以我没有完全无人值守的需求，那个不自动关机的设置对我来说没有非常大的必要所以一直没有直连测试。孩子打作业就自己开打印机放上纸，然后<a href=https://www.smzdm.com/ju/s2lmm5p/>平板</a>上操作打印完事。</p><p><a data-fancybox=gallery href=https://img-cloud.zhoujie218.top/2024/06/20/6673ade10ae57.png><img class=mx-auto alt src=https://img-cloud.zhoujie218.top/2024/06/20/6673ade10ae57.png></a></p><h2 id=安装与配置p910nd>安装与配置p910nd</h2><p>安装cups，p910nd</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>$</span> sudo apt update
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>$</span> sudo apt upgrade
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>$</span> sduo apt install <span style=color:#f92672>-</span>y cups printer<span style=color:#f92672>-</span>driver<span style=color:#f92672>-</span>foo2zjs p910nd
</span></span></code></pre></div><p>配置文件</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>$</span> sudo nano <span style=color:#e6db74>/etc/</span>default<span style=color:#f92672>/</span>p910nd
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>内容</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>P910ND_NUM</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>P910ND_OPTS</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;-f /dev/usb/lp0&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>P910ND_START</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>$</span> sudo systemctl restart p910nd
</span></span></code></pre></div><p>我自己的玩客云p910nd配置文件 <code>sudo nano /etc/default/p910nd</code></p><pre tabindex=0><code># Printer number, if not 0
P910ND_NUM=&#34;0&#34;
# Additional daemon arguments, see man 8 p910nd
P910ND_OPTS=&#34;-f /dev/usb/lp0&#34;

# Debian specific (set to 1 to enable start by default)
P910ND_START=1

#禁用双向模式
P910ND_bidirectional=1
</code></pre><p>多个USB打印机设置</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>$</span> sudo nano /etc/<span style=color:#66d9ef>init</span>.d/p910nd
</span></span></code></pre></div><p>内容如下</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#! /bin/sh
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#75715e>### BEGIN INIT INFO</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Provides:          p910nd</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Required-Start:    $remote_fs $syslog $network</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Required-Stop:     $remote_fs $syslog</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Default-Start:     2 3 4 5</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Default-Stop:      0 1 6</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Short-Description: p910nd daemon providing network printer access</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Description:       Start p910nd to provide port 9100+n printer service</span>
</span></span><span style=display:flex><span><span style=color:#75715e>### END INIT INFO</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Author: Mario Izquierdo (mariodebian) &lt;mariodebian@gmail.com&gt;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Do NOT &#34;set -e&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># PATH should only include /usr/* if it runs after the mountnfs.sh script</span>
</span></span><span style=display:flex><span>PATH<span style=color:#f92672>=</span>/sbin:/usr/sbin:/bin:/usr/bin
</span></span><span style=display:flex><span>DESC<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;network print daemon&#34;</span>
</span></span><span style=display:flex><span>NAME<span style=color:#f92672>=</span>p910nd
</span></span><span style=display:flex><span>DAEMON<span style=color:#f92672>=</span>/usr/sbin/$NAME
</span></span><span style=display:flex><span>PIDFILE<span style=color:#f92672>=</span>/var/run/p9100d.pid
</span></span><span style=display:flex><span>PIDFILE1<span style=color:#f92672>=</span>/var/run/p9101d.pid
</span></span><span style=display:flex><span>SCRIPTNAME<span style=color:#f92672>=</span>/etc/init.d/$NAME
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Exit if the package is not installed</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span> -x <span style=color:#e6db74>&#34;</span>$DAEMON<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>]</span> <span style=color:#f92672>||</span> exit <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># create /var/run and /var/lock/p910nd (Debian policy 3.8.1)</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span> ! -d /var/run <span style=color:#f92672>]</span> <span style=color:#f92672>&amp;&amp;</span> mkdir -p /var/run
</span></span><span style=display:flex><span><span style=color:#f92672>[</span> ! -d /var/lock/p910nd <span style=color:#f92672>]</span> <span style=color:#f92672>&amp;&amp;</span> mkdir -p /var/lock/p910nd
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>P910ND_OPTS<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span>P910ND_NUM<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span>P910ND_OPTS1<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span>P910ND_NUM1<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Read configuration variable file if it is present</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span> -r /etc/default/$NAME <span style=color:#f92672>]</span> <span style=color:#f92672>&amp;&amp;</span> . /etc/default/$NAME
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>DAEMON_ARGS<span style=color:#f92672>=</span><span style=color:#e6db74>&#34; </span>$P910ND_OPTS<span style=color:#e6db74> </span>$P910ND_NUM<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>DAEMON_ARGS1<span style=color:#f92672>=</span><span style=color:#e6db74>&#34; </span>$P910ND_OPTS1<span style=color:#e6db74> </span>$P910ND_NUM1<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Load the VERBOSE setting and other rcS variables</span>
</span></span><span style=display:flex><span>. /lib/init/vars.sh
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Define LSB log_* functions.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Depend on lsb-base (&gt;= 3.0-6) to ensure that this file is present.</span>
</span></span><span style=display:flex><span>. /lib/lsb/init-functions
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Function that starts the daemon/service</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#</span>
</span></span><span style=display:flex><span>do_start<span style=color:#f92672>()</span>
</span></span><span style=display:flex><span><span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Return</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#   0 if daemon has been started</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#   1 if daemon was already running</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#   2 if daemon could not be started</span>
</span></span><span style=display:flex><span>    start-stop-daemon --start --quiet --pidfile $PIDFILE --exec $DAEMON --test &gt; /dev/null <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>        <span style=color:#f92672>||</span> <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    start-stop-daemon --start --quiet --pidfile $PIDFILE --exec $DAEMON -- <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>        $DAEMON_ARGS <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>        <span style=color:#f92672>||</span> <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>    start-stop-daemon --start --quiet --pidfile $PIDFILE1 --exec $DAEMON -- <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>        $DAEMON_ARGS1 <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>        <span style=color:#f92672>||</span> <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Function that stops the daemon/service</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#</span>
</span></span><span style=display:flex><span>do_stop<span style=color:#f92672>()</span>
</span></span><span style=display:flex><span><span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Return</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#   0 if daemon has been stopped</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#   1 if daemon was already stopped</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#   2 if daemon could not be stopped</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#   other if a failure occurred</span>
</span></span><span style=display:flex><span>    start-stop-daemon --stop --quiet --retry<span style=color:#f92672>=</span>TERM/30/KILL/5 --pidfile $PIDFILE --name $NAME
</span></span><span style=display:flex><span>    RETVAL<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span>$?<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[</span> <span style=color:#e6db74>&#34;</span>$RETVAL<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>]</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>    start-stop-daemon --stop --quiet --retry<span style=color:#f92672>=</span>TERM/30/KILL/5 --pidfile $PIDFILE1 --name $NAME
</span></span><span style=display:flex><span>    RETVAL<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span>$?<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[</span> <span style=color:#e6db74>&#34;</span>$RETVAL<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>]</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Wait for children to finish too if this is a daemon that forks</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># and if the daemon is only ever run from this initscript.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># If the above conditions are not satisfied then add some other code</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># that waits for the process to drop all resources that could be</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># needed by services started subsequently.  A last resort is to</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># sleep for some time.</span>
</span></span><span style=display:flex><span>    start-stop-daemon --stop --quiet --oknodo --retry<span style=color:#f92672>=</span>0/30/KILL/5 --exec $DAEMON
</span></span><span style=display:flex><span>    <span style=color:#f92672>[</span> <span style=color:#e6db74>&#34;</span>$?<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>]</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Added for second daemon but may not be necessary</span>
</span></span><span style=display:flex><span>    start-stop-daemon --stop --quiet --oknodo --retry<span style=color:#f92672>=</span>0/30/KILL/5 --exec $DAEMON
</span></span><span style=display:flex><span>    <span style=color:#f92672>[</span> <span style=color:#e6db74>&#34;</span>$?<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>]</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Many daemons don&#39;t delete their pidfiles when they exit.</span>
</span></span><span style=display:flex><span>    rm -f $PIDFILE
</span></span><span style=display:flex><span>    <span style=color:#75715e># return &#34;$RETVAL&#34;</span>
</span></span><span style=display:flex><span>    rm -f $PIDFILE1
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;</span>$RETVAL<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;</span>$1<span style=color:#e6db74>&#34;</span> in
</span></span><span style=display:flex><span>  start<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># disable start</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> <span style=color:#e6db74>&#34;</span>$P910ND_START<span style=color:#e6db74>&#34;</span> !<span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;1&#34;</span> <span style=color:#f92672>]</span>; <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>            log_warning_msg <span style=color:#e6db74>&#34;Not starting p910nd daemon. Please edit /etc/default/p910nd first.&#34;</span>
</span></span><span style=display:flex><span>            exit <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>fi</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    log_daemon_msg <span style=color:#e6db74>&#34;Starting </span>$DESC<span style=color:#e6db74>&#34;</span> <span style=color:#e6db74>&#34;</span>$NAME<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>    do_start
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;</span>$?<span style=color:#e6db74>&#34;</span> in
</span></span><span style=display:flex><span>        0|1<span style=color:#f92672>)</span> log_end_msg <span style=color:#ae81ff>0</span> ;;
</span></span><span style=display:flex><span>        2<span style=color:#f92672>)</span>   log_end_msg <span style=color:#ae81ff>1</span> ;;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>esac</span>
</span></span><span style=display:flex><span>    ;;
</span></span><span style=display:flex><span>  stop<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    log_daemon_msg <span style=color:#e6db74>&#34;Stopping </span>$DESC<span style=color:#e6db74>&#34;</span> <span style=color:#e6db74>&#34;</span>$NAME<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>    do_stop
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;</span>$?<span style=color:#e6db74>&#34;</span> in
</span></span><span style=display:flex><span>        0|1<span style=color:#f92672>)</span> log_end_msg <span style=color:#ae81ff>0</span> ;;
</span></span><span style=display:flex><span>        2<span style=color:#f92672>)</span>   log_end_msg <span style=color:#ae81ff>1</span> ;;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>esac</span>
</span></span><span style=display:flex><span>    ;;
</span></span><span style=display:flex><span>  restart|force-reload<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># If the &#34;reload&#34; option is implemented then remove the</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># &#39;force-reload&#39; alias</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#</span>
</span></span><span style=display:flex><span>    log_daemon_msg <span style=color:#e6db74>&#34;Restarting </span>$DESC<span style=color:#e6db74>&#34;</span> <span style=color:#e6db74>&#34;</span>$NAME<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>    do_stop
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;</span>$?<span style=color:#e6db74>&#34;</span> in
</span></span><span style=display:flex><span>      0|1<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        do_start
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;</span>$?<span style=color:#e6db74>&#34;</span> in
</span></span><span style=display:flex><span>            0<span style=color:#f92672>)</span> log_end_msg <span style=color:#ae81ff>0</span> ;;
</span></span><span style=display:flex><span>            1<span style=color:#f92672>)</span> log_end_msg <span style=color:#ae81ff>1</span> ;; <span style=color:#75715e># Old process is still running</span>
</span></span><span style=display:flex><span>            *<span style=color:#f92672>)</span> log_end_msg <span style=color:#ae81ff>1</span> ;; <span style=color:#75715e># Failed to start</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>esac</span>
</span></span><span style=display:flex><span>        ;;
</span></span><span style=display:flex><span>      *<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Failed to stop</span>
</span></span><span style=display:flex><span>        log_end_msg <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        ;;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>esac</span>
</span></span><span style=display:flex><span>    ;;
</span></span><span style=display:flex><span>  *<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    echo <span style=color:#e6db74>&#34;Usage: </span>$SCRIPTNAME<span style=color:#e6db74> {start|stop|restart|force-reload}&#34;</span> &gt;&amp;<span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>    exit <span style=color:#ae81ff>3</span>
</span></span><span style=display:flex><span>    ;;
</span></span><span style=display:flex><span><span style=color:#66d9ef>esac</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>:
</span></span></code></pre></div><p>重新启动服务</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>$</span> sudo systemctl daemon<span style=color:#f92672>-</span>reload
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>$</span> sudo systemctl restart p910nd
</span></span></code></pre></div><h2 id=cups添加p910nd网络打印机步骤>cups添加p910nd网络打印机步骤</h2><p>然后执行以下步骤:</p><ol><li><p>在浏览器中打开 <a href=https://ipadder:631>https://ipadder:631</a></p></li><li><p>点击 Administration - Add Printer, 输入登录系统并且已经加到 lpadmin 组的账户的用户名密码</p></li><li><p>选择 AppSocket/HP JetDirect - Continue</p></li><li><p>Connection 中输入 socket://openwrtip:9100 - Continue</p></li><li><p>给最终 share 的打印机取名，必须勾选 Share This Printer - Continue, 这一步 <strong>非常重要</strong> , 这里填写的名字，是 以后在 windows 中添加打印机的 uri, 必须勾选共享选项局域网中别的设备才可以发现这台打印机。</p></li><li><p>打印机品牌选择 hp - continue</p></li><li><p>打印机型号选择 HP LaserJet 1020 Foomatic/foo2zjs-z1 (recommended) - Add Printer</p><p><a data-fancybox=gallery href=https://img-cloud.zhoujie218.top/2024/06/20/6673ade321fba.png><img class=mx-auto alt=image-20230802083958991 src=https://img-cloud.zhoujie218.top/2024/06/20/6673ade321fba.png></a></p><p>如图，cups 的配置就已经完成了。</p></li></ol><h2 id=实现热插拨>实现热插拨</h2><p>vi /etc/udev/rules.d/99-usb-p910nd.rules</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>SUBSYSTEM<span style=color:#f92672>==</span><span style=color:#e6db74>&#34;usb&#34;</span>, ACTION<span style=color:#f92672>==</span><span style=color:#e6db74>&#34;add&#34;</span>, RUN<span style=color:#f92672>+=</span><span style=color:#e6db74>&#34;/root/p910nd.sh&#34;</span>
</span></span></code></pre></div><p>/root/p910nd.sh</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#!/bin/sh
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>sudo systemctl restart p910nd
</span></span></code></pre></div><p>以上文章参考</p><p>/p/a905p290/</p><p><a href=https://www.imtxc.com/home-printer-server-hp1020plus.html>https://www.imtxc.com/home-printer-server-hp1020plus.html</a></p><p><a href=https://v2rayssr.com/airprint.html>https://v2rayssr.com/airprint.html</a></p></div><div class=post-archive><ul class=post-copyright><li><strong>原文作者：</strong><a rel=author href=/>zhoujie</a></li><li style=word-break:break-all><strong>原文链接：</strong><a href=/archives/2537.html>/archives/2537.html</a></li><li><strong>版权声明：</strong>本作品采用<a rel=license href=https://creativecommons.org/licenses/by-nc-nd/4.0/>知识共享署名-非商业性使用-禁止演绎 4.0 国际许可协议</a>. 进行许可，非商业转载请注明出处（作者，原文链接），商业转载请联系作者获得授权。</li></ul></div><br><div class=post-archive><h2>相关文章</h2><ul class=listing><li><a href=/archives/2523.html>Ubuntu开箱使用指南（新手篇）</a></li><li><a href=/archives/2508.html>老旧设备利用打印机服务实现网络打印,并实现打印机热插拔</a></li><li><a href=/archives/1797.html>Ubuntu20 普通设置</a></li><li><a href=/archives/563.html>winscp连接vmware ubuntu</a></li></ul></div><div class="post-meta meta-tags"><ul class=clearfix><li><a href=/tags/cups>cups</a></li><li><a href=/tags/p910nd>p910nd</a></li><li><a href=/tags/ubuntu>ubuntu</a></li><li><a href=/tags/%E6%89%93%E5%8D%B0>打印</a></li></ul></div></article></div><footer id=footer><div>&copy; 2025 <a href=/>周杰个人博客 By zhoujie</a>
| <a rel=nofollow href=http://beian.miit.gov.cn/>赣ICP备15001246号-2</a></div><br><div><div class=github-badge><a href=https://gohugo.io/ target=_black rel=nofollow><span class=badge-subject>Powered by</span><span class="badge-value bg-blue">Hugo</span></a></div><div class=github-badge><a href=https://www.zhoujie218.top/ target=_black><span class=badge-subject>Design by</span><span class="badge-value bg-brightgreen">zhoujie</span></a></div><div class=github-badge><a href=https://github.com/flysnow-org/maupassant-hugo target=_black><span class=badge-subject>Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a></div></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[["$","$"]],processEscapes:!0}}</script><script src='//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script><script src=//cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js></script><a id=rocket href=#top></a><script type=text/javascript src='/js/totop.js?v=0.0.0' async></script><style type=text/css>div.highlight{position:relative;margin:1em 0}.copy-code{display:none;position:absolute;top:4px;right:4px;color:rgba(255,255,255,.8);background:rgba(78,78,78,.8);border-radius:var(--radius);padding:0 5px;font:inherit;user-select:none;cursor:pointer;border:0;--radius:8px}div.highlight:hover .copy-code,pre:hover .copy-code{display:block}</style><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></div><div id=secondary><section class=widget><form id=search action=/search/ method=get accept-charset=utf-8><input type=text name=q maxlength=50 placeholder=Search>
<button type=submit class="submit icon-search"></button></form></section><section class=widget><h3 class=widget-title>最近文章</h3><ul class=widget-list><li><a href=/archives/2677.html title="免费使用的密钥管理系统 (License Management System)（暂未开源）">免费使用的密钥管理系统 (License Management System)（暂未开源）</a></li><li><a href=/archives/2674.html title="重构开源FlowMaster - 专业的网络流量实时监控系统">重构开源FlowMaster - 专业的网络流量实时监控系统</a></li><li><a href=/archives/2673.html title="新款Worker路由反代全球Cloudflare IP优选！让Cloudflare在国内再也不是减速器！">新款Worker路由反代全球Cloudflare IP优选！让Cloudflare在国内再也不是减速器！</a></li><li><a href=/archives/2668.html title=(原创)哪吒监控流量告警规则公告配置规则配置工具>(原创)哪吒监控流量告警规则公告配置规则配置工具</a></li><li><a href=/archives/2667.html title=哪吒监控面板数据库损坏修复教程,原创>哪吒监控面板数据库损坏修复教程,原创</a></li><li><a href=/archives/2666.html title=OpenWrt哪吒监控Agent一键安装脚本>OpenWrt哪吒监控Agent一键安装脚本</a></li><li><a href=/archives/2651.html title="开源工具：Cloudflare Pages 部署记录清理，给我们的大善人节约一点资源吧（原创）">开源工具：Cloudflare Pages 部署记录清理，给我们的大善人节约一点资源吧（原创）</a></li><li><a href=/archives/2649.html title=被收了公网V4后，用另类V4方法高速打洞，完善后再开源>被收了公网V4后，用另类V4方法高速打洞，完善后再开源</a></li><li><a href=/archives/2645.html title=openwrt二级路由开启IPV6>openwrt二级路由开启IPV6</a></li><li><a href=/archives/2639.html title="基于 OpenWrt 全网最简双线 IPTV 接入方案 - 自建iptv服务器">基于 OpenWrt 全网最简双线 IPTV 接入方案 - 自建iptv服务器</a></li></ul></section><section class=widget><h3 class=widget-title><a href=/categories/>分类</a></h3><ul class=widget-list><li><a href=/categories/diannaowangruo/>Diannaowangruo (125)</a></li><li><a href=/categories/game/>Game (2)</a></li><li><a href=/categories/it-related/>It-Related (14)</a></li><li><a href=/categories/luanqibazhao/>Luanqibazhao (16)</a></li><li><a href=/categories/qingganriji/>Qingganriji (8)</a></li><li><a href=/categories/shenhuarizhi/>Shenhuarizhi (13)</a></li><li><a href=/categories/wangyesheji/>Wangyesheji (35)</a></li></ul></section><section class=widget><h3 class=widget-title><a href=/tags/>标签</a></h3><div class=tagcloud><a href=/tags/24-04/>24-04</a>
<a href=/tags/3000/>3000</a>
<a href=/tags/3800/>3800</a>
<a href=/tags/910nd/>910nd</a>
<a href=/tags/actions/>Actions</a>
<a href=/tags/adguard/>Adguard</a>
<a href=/tags/agent/>Agent</a>
<a href=/tags/alist/>Alist</a>
<a href=/tags/arm/>Arm</a>
<a href=/tags/armbian/>Armbian</a>
<a href=/tags/baota/>Baota</a>
<a href=/tags/bbr/>Bbr</a>
<a href=/tags/bt/>Bt</a>
<a href=/tags/cctv/>Cctv</a>
<a href=/tags/centos/>Centos</a>
<a href=/tags/cf/>Cf</a>
<a href=/tags/chatgpt/>Chatgpt</a>
<a href=/tags/chrome/>Chrome</a>
<a href=/tags/cloudflare/>Cloudflare</a>
<a href=/tags/cloudflarest/>Cloudflarest</a>
<a href=/tags/crontab/>Crontab</a>
<a href=/tags/cups/>Cups</a>
<a href=/tags/dns/>Dns</a>
<a href=/tags/docker/>Docker</a>
<a href=/tags/emby/>Emby</a>
<a href=/tags/esc/>Esc</a>
<a href=/tags/fileinfo/>Fileinfo</a>
<a href=/tags/flowmaster/>Flowmaster</a>
<a href=/tags/frp/>Frp</a>
<a href=/tags/fuse/>Fuse</a>
<a href=/tags/game/>Game</a>
<a href=/tags/github/>Github</a>
<a href=/tags/google/>Google</a>
<a href=/tags/google-cloud/>Google-Cloud</a>
<a href=/tags/gphotos/>Gphotos</a>
<a href=/tags/h5ai/>H5ai</a>
<a href=/tags/host/>Host</a>
<a href=/tags/https/>Https</a>
<a href=/tags/hub/>Hub</a>
<a href=/tags/hugo/>Hugo</a>
<a href=/tags/iftop/>Iftop</a>
<a href=/tags/ip/>Ip</a>
<a href=/tags/iperf/>Iperf</a>
<a href=/tags/iphone/>Iphone</a>
<a href=/tags/iptv/>Iptv</a>
<a href=/tags/ipv4/>Ipv4</a>
<a href=/tags/ipv6/>Ipv6</a>
<a href=/tags/kodi/>Kodi</a>
<a href=/tags/lede/>Lede</a>
<a href=/tags/license/>License</a>
<a href=/tags/linux/>Linux</a>
<a href=/tags/live/>Live</a>
<a href=/tags/lnmp/>Lnmp</a>
<a href=/tags/lsky/>Lsky</a>
<a href=/tags/moments/>Moments</a>
<a href=/tags/mosdns/>Mosdns</a>
<a href=/tags/mysql/>Mysql</a>
<a href=/tags/n1/>N1</a>
<a href=/tags/nezha/>Nezha</a>
<a href=/tags/nfs/>Nfs</a>
<a href=/tags/nginx/>Nginx</a>
<a href=/tags/nsfwjs/>Nsfwjs</a>
<a href=/tags/office/>Office</a>
<a href=/tags/office365/>Office365</a>
<a href=/tags/onedrive/>Onedrive</a>
<a href=/tags/openclash/>Openclash</a>
<a href=/tags/openwrt/>Openwrt</a>
<a href=/tags/oss/>Oss</a>
<a href=/tags/p910nd/>P910nd</a>
<a href=/tags/pages/>Pages</a>
<a href=/tags/pdf/>Pdf</a>
<a href=/tags/photos/>Photos</a>
<a href=/tags/php8/>Php8</a>
<a href=/tags/picgo/>Picgo</a>
<a href=/tags/pve/>Pve</a>
<a href=/tags/rclone/>Rclone</a>
<a href=/tags/rfp/>Rfp</a>
<a href=/tags/ros/>Ros</a>
<a href=/tags/rustdesk/>Rustdesk</a>
<a href=/tags/solo/>Solo</a>
<a href=/tags/sql/>Sql</a>
<a href=/tags/ssh/>Ssh</a>
<a href=/tags/status/>Status</a>
<a href=/tags/stun/>Stun</a>
<a href=/tags/sync/>Sync</a>
<a href=/tags/ubuntu/>Ubuntu</a>
<a href=/tags/usb/>Usb</a>
<a href=/tags/user-agent/>User-Agent</a>
<a href=/tags/v2ray/>V2ray</a>
<a href=/tags/vnstat/>Vnstat</a>
<a href=/tags/webdav/>Webdav</a>
<a href=/tags/webhook/>Webhook</a>
<a href=/tags/winkawaks/>Winkawaks</a>
<a href=/tags/wordpress/>Wordpress</a>
<a href=/tags/worker/>Worker</a>
<a href=/tags/you-get/>You-Get</a>
<a href=/tags/youku/>Youku</a>
<a href=/tags/zbds/>Zbds</a>
<a href=/tags/%E4%BA%8C%E5%90%88%E4%B8%80/>二合一</a>
<a href=/tags/%E4%BA%8C%E7%BA%A7%E8%B7%AF%E7%94%B1/>二级路由</a>
<a href=/tags/%E4%BA%BA%E7%94%9F/>人生</a>
<a href=/tags/%E5%85%8D%E8%B4%B9%E5%9B%BE%E5%BA%8A/>免费图床</a>
<a href=/tags/%E5%85%AC%E5%91%8A/>公告</a>
<a href=/tags/%E5%85%AC%E7%BD%91/>公网</a>
<a href=/tags/%E5%85%B0%E7%A9%BA%E5%9B%BE%E5%BA%8A/>兰空图床</a>
<a href=/tags/%E5%88%B7%E6%9C%BA/>刷机</a>
<a href=/tags/%E5%8A%A0%E9%80%9F/>加速</a>
<a href=/tags/%E5%8F%8B%E7%AA%9D/>友窝</a>
<a href=/tags/%E5%93%AA%E5%90%92/>哪吒</a>
<a href=/tags/%E5%9B%BE%E5%BA%8A/>图床</a>
<a href=/tags/%E5%A4%AE%E8%A7%86/>央视</a>
<a href=/tags/%E5%A5%97%E4%BB%B6/>套件</a>
<a href=/tags/%E5%AE%9D%E5%A1%94/>宝塔</a>
<a href=/tags/%E5%AE%9D%E5%AE%9D/>宝宝</a>
<a href=/tags/%E5%AF%86%E9%92%A5/>密钥</a>
<a href=/tags/%E5%B0%8F%E8%AF%B4/>小说</a>
<a href=/tags/%E5%BC%80%E6%BA%90/>开源</a>
<a href=/tags/%E6%89%93%E5%8D%B0/>打印</a>
<a href=/tags/%E6%89%A9%E5%AE%B9/>扩容</a>
<a href=/tags/%E6%8A%93%E5%8C%85/>抓包</a>
<a href=/tags/%E6%96%90%E8%AE%AF/>斐讯</a>
<a href=/tags/%E6%9C%89%E9%81%93%E4%BA%91/>有道云</a>
<a href=/tags/%E6%9C%BA%E9%A1%B6%E7%9B%92/>机顶盒</a>
<a href=/tags/%E6%B1%9F%E8%A5%BF/>江西</a>
<a href=/tags/%E6%B5%81%E9%87%8F/>流量</a>
<a href=/tags/%E6%BA%90/>源</a>
<a href=/tags/%E7%83%AD%E6%8F%92%E6%8B%94/>热插拔</a>
<a href=/tags/%E7%88%B1%E9%98%85%E4%B9%A6%E9%A6%99/>爱阅书香</a>
<a href=/tags/%E7%8E%A9%E5%AE%A2%E4%BA%91/>玩客云</a>
<a href=/tags/%E7%94%9F%E6%B4%BB/>生活</a>
<a href=/tags/%E7%94%B2%E9%AA%A8%E6%96%87/>甲骨文</a>
<a href=/tags/%E7%94%B5%E4%BF%A1/>电信</a>
<a href=/tags/%E7%94%B5%E8%A7%86/>电视</a>
<a href=/tags/%E7%9B%91%E6%8E%A7/>监控</a>
<a href=/tags/%E7%9B%B4%E6%92%AD/>直播</a>
<a href=/tags/%E7%9B%B4%E6%92%AD%E6%BA%90/>直播源</a>
<a href=/tags/%E7%9B%B4%E6%92%AD%E7%94%B5%E8%A7%86/>直播电视</a>
<a href=/tags/%E7%A1%AC%E7%9B%98/>硬盘</a>
<a href=/tags/%E7%A3%81%E7%9B%98/>磁盘</a>
<a href=/tags/%E7%BB%84%E6%92%AD/>组播</a>
<a href=/tags/%E7%BB%9F%E8%AE%A1/>统计</a>
<a href=/tags/%E7%BD%91%E7%BB%9C%E5%85%B1%E4%BA%AB/>网络共享</a>
<a href=/tags/%E7%BE%A4%E6%99%96/>群晖</a>
<a href=/tags/%E8%A7%84%E5%88%99/>规则</a>
<a href=/tags/%E8%A7%A3%E9%94%81/>解锁</a>
<a href=/tags/%E8%AE%B8%E5%8F%AF%E8%AF%81/>许可证</a>
<a href=/tags/%E8%AF%81%E4%B9%A6/>证书</a>
<a href=/tags/%E8%B6%8A%E7%8B%B1/>越狱</a>
<a href=/tags/%E8%B7%A8%E5%9F%9F/>跨域</a>
<a href=/tags/%E8%B7%AF%E7%94%B1/>路由</a>
<a href=/tags/%E8%BF%9C%E7%A8%8B/>远程</a>
<a href=/tags/%E9%89%B4%E9%BB%84/>鉴黄</a>
<a href=/tags/%E9%95%9C%E5%83%8F/>镜像</a>
<a href=/tags/%E9%95%BF%E8%99%B9/>长虹</a>
<a href=/tags/%E9%98%85%E8%AF%BB/>阅读</a>
<a href=/tags/%E9%9D%A2%E6%9D%BF/>面板</a>
<a href=/tags/%E9%BB%91%E7%BE%A4%E6%99%96/>黑群晖</a></div></section><section class=widget><h3 class=widget-title>友情链接</h3><ul class=widget-list><li><a target=_blank href=https://www.zhoujie218.top/ title=周杰的博客>周杰的博客</a></li></ul></section><section class=widget><h3 class=widget-title>其它</h3><ul class=widget-list><li><a href=/index.xml>文章 RSS</a></li></ul></section></div></div></div></div></body></html>