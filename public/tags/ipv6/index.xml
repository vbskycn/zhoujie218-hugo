<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Ipv6 on 周杰个人博客</title><link>/tags/ipv6/</link><description>Recent content in Ipv6 on 周杰个人博客</description><generator>Hugo</generator><language>zh-CN</language><lastBuildDate>Wed, 27 Nov 2024 00:00:00 +0000</lastBuildDate><atom:link href="/tags/ipv6/index.xml" rel="self" type="application/rss+xml"/><item><title>被收了公网V4后，用另类V4方法高速打洞，完善后再开源</title><link>/archives/2649.html</link><pubDate>Wed, 27 Nov 2024 00:00:00 +0000</pubDate><guid>/archives/2649.html</guid><description>&lt;h3 id="事情起因"&gt;事情起因&lt;/h3&gt;
&lt;p&gt;有一天，突然发现家里的设备连不上了，原来家里的宽带变回归大内网了，公网V4我用了7年呀，199的套餐12年老用户呀，不甘心的我至电1XXXX号多次，要转网也不行，跑去营业厅问，说是上个月个人还可以申请公网，这个月不行了，我真的是无语了，早不关，等不能申请了再来关我的公网&amp;hellip;&amp;hellip;. 不用说工信部走起，不过却是迟来的爱，一个星期后才回访。&lt;/p&gt;
&lt;p&gt;不鸟我，我换个运营商玩，反正是大内网，资费还便宜一半，流量多了几倍，&lt;/p&gt;
&lt;p&gt;网龄12年清零？有个毛用，不要了，还是新用户爽&lt;/p&gt;
&lt;p&gt;新宽带装好，有v6的公网，但看的不爽，也不太好用，就有了下面的折腾&lt;/p&gt;
&lt;h3 id="方法"&gt;方法&lt;/h3&gt;
&lt;p&gt;肝了一天，总算写好了&lt;/p&gt;
&lt;p&gt;利用lukcy的stun功能，感谢lukcy，真的很好用&lt;/p&gt;
&lt;p&gt;
 &lt;a data-fancybox="gallery" href="https://img-cloud.zhoujie218.top/2024/11/27/6746be72dce98.png"&gt;
 &lt;img class="mx-auto" alt="image-20241127142718664" src="https://img-cloud.zhoujie218.top/2024/11/27/6746be72dce98.png" /&gt;
 &lt;/a&gt;
 &lt;/p&gt;
&lt;p&gt;但是那个IP端口变化厉害总不能经常去看后台吧&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;所以就有了本程序 STUN-webhook&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;
 &lt;a data-fancybox="gallery" href="https://img-cloud.zhoujie218.top/2024/11/27/6746be83be594.png"&gt;
 &lt;img class="mx-auto" alt="image-20241127142959919" src="https://img-cloud.zhoujie218.top/2024/11/27/6746be83be594.png" /&gt;
 &lt;/a&gt;
 &lt;/p&gt;
&lt;h3 id="功能"&gt;功能&lt;/h3&gt;
&lt;p&gt;利用lucky重新穿透后，通过webhook把最新的IP端口发送到程序，程序再执行下一步操作，比如运行微信通知模块，特定程序，随便怎么玩都行&lt;/p&gt;
&lt;p&gt;
 &lt;a data-fancybox="gallery" href="https://img-cloud.zhoujie218.top/2024/11/27/6746be8357b39.png"&gt;
 &lt;img class="mx-auto" alt="image-20241127143601041" src="https://img-cloud.zhoujie218.top/2024/11/27/6746be8357b39.png" /&gt;
 &lt;/a&gt;
 &lt;/p&gt;
&lt;p&gt;
 &lt;a data-fancybox="gallery" href="https://img-cloud.zhoujie218.top/2024/11/27/6746be87d0e2b.png"&gt;
 &lt;img class="mx-auto" alt="image-20241127143251195" src="https://img-cloud.zhoujie218.top/2024/11/27/6746be87d0e2b.png" /&gt;
 &lt;/a&gt;
 &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;等完善好了后再开源告诉你哈，先点个赞吧&lt;/strong&gt;&lt;/p&gt;</description></item><item><title>openwrt二级路由开启IPV6</title><link>/archives/2645.html</link><pubDate>Fri, 20 Sep 2024 00:00:00 +0000</pubDate><guid>/archives/2645.html</guid><description>&lt;h1 id="openwrt二级路由开启ipv6"&gt;openwrt二级路由开启IPV6&lt;/h1&gt;
&lt;p&gt;有了公网IPV4，还想要ipv6,便研究了一下公网IPV6。网上大部分是将光猫改为桥接，然后路由拨号，获取公网IPV6地址，但目前不想这样做。研究一下，openwrt下二级路由下的IPV6获取。&lt;/p&gt;
&lt;p&gt;按照网上的说明，二级路由一般使用中继的方式获取，照猫画虎，试了一下&lt;/p&gt;
&lt;p&gt;
 &lt;a data-fancybox="gallery" href="https://img-cloud.zhoujie218.top/2024/09/20/66ecf8c2a4387.png"&gt;
 &lt;img class="mx-auto" alt="image-20240920122325221" src="https://img-cloud.zhoujie218.top/2024/09/20/66ecf8c2a4387.png" /&gt;
 &lt;/a&gt;
 &lt;/p&gt;
&lt;h2 id="1首先wan6设置"&gt;1、首先wan6设置&lt;/h2&gt;
&lt;p&gt;
 &lt;a data-fancybox="gallery" href="https://img-cloud.zhoujie218.top/2024/09/20/66ecf5f1a5015.png"&gt;
 &lt;img class="mx-auto" alt="" src="https://img-cloud.zhoujie218.top/2024/09/20/66ecf5f1a5015.png" /&gt;
 &lt;/a&gt;
 &lt;/p&gt;
&lt;p&gt;
 &lt;a data-fancybox="gallery" href="https://img-cloud.zhoujie218.top/2024/09/20/66ecf5f3e65ad.png"&gt;
 &lt;img class="mx-auto" alt="" src="https://img-cloud.zhoujie218.top/2024/09/20/66ecf5f3e65ad.png" /&gt;
 &lt;/a&gt;
 &lt;/p&gt;
&lt;h2 id="2然后lan口设置"&gt;2、然后lan口设置&lt;/h2&gt;
&lt;p&gt;
 &lt;a data-fancybox="gallery" href="https://i-blog.csdnimg.cn/blog_migrate/0c65d6c195af6b6f3d5f4f0daea32dd0.png"&gt;
 &lt;img class="mx-auto" alt="" src="https://i-blog.csdnimg.cn/blog_migrate/0c65d6c195af6b6f3d5f4f0daea32dd0.png" /&gt;
 &lt;/a&gt;
 &lt;/p&gt;
&lt;p&gt;全部中继模式&lt;/p&gt;
&lt;p&gt;
 &lt;a data-fancybox="gallery" href="https://img-cloud.zhoujie218.top/2024/09/20/66ecf5f299a4c.png"&gt;
 &lt;img class="mx-auto" alt="" src="https://img-cloud.zhoujie218.top/2024/09/20/66ecf5f299a4c.png" /&gt;
 &lt;/a&gt;
 &lt;/p&gt;
&lt;h2 id="3使用ttyd或ssh进入后台重要"&gt;3、使用TTYD或SSH进入后台(重要)&lt;/h2&gt;
&lt;p&gt;修改/etc/config/dhcp,增加以下内容&lt;/p&gt;
&lt;p&gt;
 &lt;a data-fancybox="gallery" href="https://img-cloud.zhoujie218.top/2024/09/20/66ecf6bf9fedd.png"&gt;
 &lt;img class="mx-auto" alt="image-20240920121451712" src="https://img-cloud.zhoujie218.top/2024/09/20/66ecf6bf9fedd.png" /&gt;
 &lt;/a&gt;
 &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#ae81ff"&gt;config dhcp &amp;#39;wan&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#ae81ff"&gt;option interface &amp;#39;wan&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#ae81ff"&gt;option ignore &amp;#39;1&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#ae81ff"&gt;option ra &amp;#39;relay&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#ae81ff"&gt;option dhcpv6 &amp;#39;relay&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#ae81ff"&gt;option ndp &amp;#39;relay&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#ae81ff"&gt;option master &amp;#39;1&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="4openwrt设备重启打开网络适配器信息正常可以看到ipv6了"&gt;4、openwrt设备重启，打开网络适配器信息，正常可以看到ipv6了&lt;/h2&gt;
&lt;p&gt;
 &lt;a data-fancybox="gallery" href="https://img-cloud.zhoujie218.top/2024/09/20/66ecf5f1a517f.png"&gt;
 &lt;img class="mx-auto" alt="" src="https://img-cloud.zhoujie218.top/2024/09/20/66ecf5f1a517f.png" /&gt;
 &lt;/a&gt;
 &lt;/p&gt;
&lt;p&gt;可是打开ipv6 test网站，却无法测试通过，显示无ipv6地址，什么鬼？&lt;/p&gt;
&lt;p&gt;
 &lt;a data-fancybox="gallery" href="https://img-cloud.zhoujie218.top/2024/09/20/66ecf5f5d4e0a.png"&gt;
 &lt;img class="mx-auto" alt="" src="https://img-cloud.zhoujie218.top/2024/09/20/66ecf5f5d4e0a.png" /&gt;
 &lt;/a&gt;
 &lt;/p&gt;
&lt;p&gt;一番尝试之下，发现将wan/wan6防火墙的入站改为接受，可以通过，肯定是防火墙拦截了。&lt;/p&gt;
&lt;p&gt;5、同样打开后台，在/etc/config/firewall中增加以下规则&lt;/p&gt;
&lt;p&gt;
 &lt;a data-fancybox="gallery" href="https://img-cloud.zhoujie218.top/2024/09/20/66ecf5f68cc08.png"&gt;
 &lt;img class="mx-auto" alt="" src="https://img-cloud.zhoujie218.top/2024/09/20/66ecf5f68cc08.png" /&gt;
 &lt;/a&gt;
 &lt;/p&gt;
&lt;p&gt;好了，这下终于可以测过了&lt;/p&gt;
&lt;p&gt;
 &lt;a data-fancybox="gallery" href="https://img-cloud.zhoujie218.top/2024/09/20/66ecf5f6f38e7.png"&gt;
 &lt;img class="mx-auto" alt="" src="https://img-cloud.zhoujie218.top/2024/09/20/66ecf5f6f38e7.png" /&gt;
 &lt;/a&gt;
 &lt;/p&gt;
&lt;p&gt;公网IP,公网IP，使用别的网络应该也可以ping通，遂打开手机4G网络，ping电脑获取到的ip,什么情况，ping不通？？&lt;/p&gt;
&lt;p&gt;又是防火墙的问题？？&lt;/p&gt;
&lt;p&gt;后台执行以下几条指令，把ip6tables全干掉&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code class="language-null" data-lang="null"&gt;ip6tables -P INPUT ACCEPTip6tables -P FORWARD ACCEPTip6tables -P OUTPUT ACCEPT
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;正常ping通&lt;/p&gt;
&lt;p&gt;
 &lt;a data-fancybox="gallery" href="https://img-cloud.zhoujie218.top/2024/09/20/66ecf5f7eddfd.png"&gt;
 &lt;img class="mx-auto" alt="" src="https://img-cloud.zhoujie218.top/2024/09/20/66ecf5f7eddfd.png" /&gt;
 &lt;/a&gt;
 &lt;/p&gt;</description></item><item><title>保证这是你见过的最详细的 OpenClash 图文教程</title><link>/archives/2637.html</link><pubDate>Sat, 03 Aug 2024 00:00:00 +0000</pubDate><guid>/archives/2637.html</guid><description>&lt;h1 id="介绍"&gt;介绍&lt;/h1&gt;
&lt;p&gt;保证这是你见过的最详细的 OpenClash 图文教程（本教程参靠网友Aethersailor配置教程）&lt;/p&gt;
&lt;h2 id="本教程所实现的效果"&gt;本教程所实现的效果&lt;/h2&gt;
&lt;p&gt;严格按照本教程的内容去设置你的 OpenClash 插件，加一个 Mosdns 即可实现以下功能：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;完美的 DNS 解析分流&lt;/strong&gt;,大陆域名使用运行商 DNS 或者你设置的 DNS 进行解析，国外域名使用节点服务器的 DNS 进行解析，取得理论上的最佳最快解析结果；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;DNS 无污染，无泄漏&lt;/strong&gt;；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;丰富的分流规则&lt;/strong&gt;，具备大陆和国外分流功能，流媒体/ChatGPT 等服务均可以选择特定地区节点分流或者特定节点分流，可以搭配 OpenClash 的流媒体解锁探测功能使用；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;节点自动测速优选&lt;/strong&gt;；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;大陆域名和 IP 均会绕过 OpenClash 内核&lt;/strong&gt;，加快访问速度提升下载性能；&lt;/li&gt;
&lt;li&gt;在宽带拥有 IPv6 以及机场支持 IPv6 出站的情况下，&lt;strong&gt;实现 OpenClash 和 IPv6 的完美兼容&lt;/strong&gt;；&lt;/li&gt;
&lt;li&gt;每日自动更新上游规则碎片，一次设置，长期无人值守，不用折腾。即使 OpenClash 出现问题未能启动，也不影响正常上网。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;分流非常精确&lt;/p&gt;
&lt;p&gt;
 &lt;a data-fancybox="gallery" href="https://img-cloud.zhoujie218.top/2024/08/03/66adcebb29c7e.png"&gt;
 &lt;img class="mx-auto" alt="image-20240803143122558" src="https://img-cloud.zhoujie218.top/2024/08/03/66adcebb29c7e.png" /&gt;
 &lt;/a&gt;
 &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;h3 id="关于-ipv6"&gt;关于 IPv6&lt;/h3&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如果是爱快+OP会泄漏dns，我目前没有搞定，openwrt做主路由可以按下面的教程&lt;/p&gt;
&lt;p&gt;在确保你的节点支持 IPv6 出站的情况下，搭配下面的教程实现 OpenClash 和 IPv6 的完美兼容 &lt;a href="https://github.com/Aethersailor/Custom_OpenClash_Rules/wiki/OpenWrt-IPv6-%E8%AE%BE%E7%BD%AE%E6%95%99%E7%A8%8B"&gt;https://github.com/Aethersailor/Custom_OpenClash_Rules/wiki/OpenWrt-IPv6-设置教程&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;不清楚自己的节点是否支持 IPv6 的话，可以向机场客服发工单来确定，或者按照教程内容进行设置后测试节点如果不具备 IPv6 出站能力再关闭 OpenClash 的 IPv6 功能&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;h3 id="关于-dns"&gt;关于 DNS&lt;/h3&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;强烈建议使用运营商通告的 DNS，不论是解析速度还是结果的科学性，都不是第三方 DNS 可以比拟的&lt;/p&gt;</description></item></channel></rss>