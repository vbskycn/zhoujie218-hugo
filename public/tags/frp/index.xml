<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Frp on 周杰个人博客</title><link>/tags/frp/</link><description>Recent content in Frp on 周杰个人博客</description><generator>Hugo</generator><language>zh-CN</language><lastBuildDate>Fri, 01 Jul 2022 00:00:00 +0000</lastBuildDate><atom:link href="/tags/frp/index.xml" rel="self" type="application/rss+xml"/><item><title>Frp内网穿透实现 以服务器CentOS+客户端OpenWrt为例</title><link>/archives/2436.html</link><pubDate>Fri, 01 Jul 2022 00:00:00 +0000</pubDate><guid>/archives/2436.html</guid><description>&lt;p&gt;要想将自己提供的服务发布到Internet，需要公网IP地址。由于IPv4地址资源紧张，家庭宽带获取IPv4公网地址难度大、代价高。采用内网穿透技术，可通过拥有公网IPv4地址的服务器来访问内网资源。&lt;/p&gt;
&lt;p&gt;　　内网穿透可以采用花生壳等软件实现，也可自行搭建服务器完成。本文在CentOS（服务器）+ OpenWrt（客户端）的结构下，介绍利用Frp实现内网穿透的方法。&lt;/p&gt;
&lt;p&gt;　　【注意】Frp分为服务器端和客户端，服务器端名为：frps，客户端名为frpc。安装时务必注意区分。&lt;/p&gt;
&lt;p&gt;
 &lt;a data-fancybox="gallery" href="https://img-cloud.zhoujie218.top/wp-content/uploads/2022/07/20220701041650268.png"&gt;
 &lt;img class="mx-auto" alt="" src="https://img-cloud.zhoujie218.top/wp-content/uploads/2022/07/20220701041650268.png" /&gt;
 &lt;/a&gt;
 &lt;/p&gt;
&lt;p&gt;一、资源获取&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Frp项目地址 &lt;a href="https://github.com/fatedier/frp"&gt;https://github.com/fatedier/frp&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Frp发行安装包 &lt;a href="https://github.com/fatedier/frp/releases"&gt;https://github.com/fatedier/frp/releases&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Frp文档 &lt;a href="https://gofrp.org/docs/"&gt;https://gofrp.org/docs/&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;二、CentOS服务器配置&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Frps安装包获取 1）前往 1.2 中的发行安装包地址，寻找适合您的安装包。如x86平台64位的linux机器，应该使用名为 frp_x.xx.x_linux_amd64.tar.gz 的安装包（x.xx.x为版本号）。选中安装包名称，右键复制链接地址。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;2）前往服务器执行下列命令，将安装包下载到服务器CentOS系统中。&lt;/p&gt;
&lt;p&gt;wget &lt;a href="https://github.com/fatedier/frp/releases/download/v0.32.1/frp_0.32.1_linux_amd64.tar.gz"&gt;https://github.com/fatedier/frp/releases/download/v0.32.1/frp_0.32.1_linux_amd64.tar.gz&lt;/a&gt; 3）执行下列命令，解压安装包。&lt;/p&gt;
&lt;p&gt;tar -xvf frp_0.32.1_linux_amd64.tar.gz&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;Frps安装 1）执行下列命令，为Frps程序新建一个目录。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;mkdir /etc/frps 2）将解压的Frp文件复制到Frps程序目录内。&lt;/p&gt;
&lt;p&gt;mv frp_0.32.1_linux_amd64/* /etc/frps/&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;注册系统服务 1）新建Frps服务文件&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;vim /usr/lib/systemd/system/frps.service 2）按键盘 i 键，进入编辑状态。写入如下代码（也可直接按鼠标右键粘贴）。然后按 ESC 按键，输入 :wq 回车后保存并退出。&lt;/p&gt;
&lt;p&gt;[Unit] Description=The nginx HTTP and reverse proxy server After=network.target remote-fs.target nss-lookup.target&lt;/p&gt;
&lt;p&gt;[Service] Type=simple ExecStart=/etc/frps/frps -c /etc/frps/frps.ini KillSignal=SIGQUIT TimeoutStopSec=5 KillMode=process PrivateTmp=true StandardOutput=syslog StandardError=inherit&lt;/p&gt;
&lt;p&gt;[Install] WantedBy=multi-user.target 3）重载配置文件&lt;/p&gt;
&lt;p&gt;systemctl daemon-reload 4）启动服务&lt;/p&gt;</description></item></channel></rss>