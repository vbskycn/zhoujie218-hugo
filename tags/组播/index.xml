<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>组播 on 周杰个人博客</title><link>/tags/%E7%BB%84%E6%92%AD/</link><description>Recent content in 组播 on 周杰个人博客</description><generator>Hugo</generator><language>zh-CN</language><lastBuildDate>Mon, 12 Aug 2024 00:00:00 +0000</lastBuildDate><atom:link href="/tags/%E7%BB%84%E6%92%AD/index.xml" rel="self" type="application/rss+xml"/><item><title>基于 OpenWrt 全网最简双线 IPTV 接入方案 - 自建iptv服务器</title><link>/archives/2639.html</link><pubDate>Mon, 12 Aug 2024 00:00:00 +0000</pubDate><guid>/archives/2639.html</guid><description>&lt;h2 id="介绍"&gt;介绍&lt;/h2&gt;
&lt;p&gt;该方案不需要拿到光猫管理员（虽然折腾半天拿到了发现可以不用），也不需要设置 VLAN，因为是双线接入只会多占用一个软路由端口，简单几步配置就能支持 IPTV。&lt;/p&gt;
&lt;h3 id="限制"&gt;限制&lt;/h3&gt;
&lt;p&gt;因为非常简单所以有一些限制：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;需要软路由上还有空闲的网口&lt;/li&gt;
&lt;li&gt;只在成都电信测试通过，不确定其它区域和运营商都可以。因为是发现本地 IPTV 是不需要拔号，也不需要特定 IP 的，和网上各种复杂教程完全不一样。&lt;/li&gt;
&lt;li&gt;本文完全通过无线访问，如果要使用机顶盒，需要再多一个端口桥接，或者 omcproxy 一类的工具，不在本文范围。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="拓扑情况"&gt;拓扑情况&lt;/h3&gt;
&lt;p&gt;
 &lt;a data-fancybox="gallery" href="https://img-cloud.zhoujie218.top/2024/08/12/66b9947310631.png"&gt;
 &lt;img class="mx-auto" alt="" src="https://img-cloud.zhoujie218.top/2024/08/12/66b9947310631.png" /&gt;
 &lt;/a&gt;
 &lt;/p&gt;
&lt;p&gt;简单介绍一下拓扑情况，光纤入户通过光猫再到安装 OpenWrt 的软路由，光猫使用桥接通过 OpenWrt 拔号上网（光猫使用路由模式直接拔号也没有影响）。光猫的上网口接入软路由的 WAN（eth0）口，IPTV 接入软路由的 eth1，后面会进行配置，还有一个 Wifi 作为 AP 让其它设备接入。&lt;/p&gt;
&lt;p&gt;影响本次的就是需要软件路由上有个空闲的网口，并接入光猫的 IPTV 口。否则需要单线复用的方式，获取光猫管理员创建 VLAN，共用软路由的 WAN 口，这种复杂的方式本文不会涉及。&lt;/p&gt;
&lt;p&gt;如果不符合上述条件的，可以退出本文搜索其它更合适的方式。&lt;/p&gt;
&lt;h2 id="操作步骤"&gt;操作步骤&lt;/h2&gt;
&lt;h3 id="释放网口"&gt;释放网口&lt;/h3&gt;
&lt;p&gt;在 &lt;code&gt;网络 -&amp;gt; 接口&lt;/code&gt; 中找到 &lt;code&gt;LAN&lt;/code&gt; 编辑，在物理设置里面把用于 IPTV 的物理端口 &lt;code&gt;eth1&lt;/code&gt;取消勾选。后面括号中应该是 &lt;code&gt;lan&lt;/code&gt;，因为是后面补截的屏所以这里已经是 &lt;code&gt;IPTV&lt;/code&gt; 。&lt;/p&gt;
&lt;p&gt;
 &lt;a data-fancybox="gallery" href="https://img-cloud.zhoujie218.top/2024/08/12/66b994933f6b0.png"&gt;
 &lt;img class="mx-auto" alt="" src="https://img-cloud.zhoujie218.top/2024/08/12/66b994933f6b0.png" /&gt;
 &lt;/a&gt;
 &lt;/p&gt;
&lt;h3 id="新建-iptv-接口"&gt;新建 IPTV 接口&lt;/h3&gt;
&lt;p&gt;在 &lt;code&gt;网络 -&amp;gt; 接口&lt;/code&gt; 中创建新接口，命名 &lt;code&gt;IPTV&lt;/code&gt;（其它名字也可以方便记忆），协议选择&lt;code&gt;静态 IP&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;如图配置 IP 地址，不要和你当前路由同一网段就行，图中的 &lt;code&gt;192.168.168.123&lt;/code&gt; 是随便设置的一个 IP。&lt;/p&gt;
&lt;p&gt;
 &lt;a data-fancybox="gallery" href="https://img-cloud.zhoujie218.top/2024/08/12/66b99497292b2.png"&gt;
 &lt;img class="mx-auto" alt="" src="https://img-cloud.zhoujie218.top/2024/08/12/66b99497292b2.png" /&gt;
 &lt;/a&gt;
 &lt;/p&gt;</description></item></channel></rss>