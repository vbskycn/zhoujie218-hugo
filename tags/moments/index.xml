<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Moments on 周杰个人博客</title><link>/tags/moments/</link><description>Recent content in Moments on 周杰个人博客</description><generator>Hugo</generator><language>zh-CN</language><lastBuildDate>Wed, 29 Apr 2020 00:00:00 +0000</lastBuildDate><atom:link href="/tags/moments/index.xml" rel="self" type="application/rss+xml"/><item><title>修复黑群晖 Moments 1.3.x 版本人物识别不能使用问题</title><link>/archives/1638.html</link><pubDate>Wed, 29 Apr 2020 00:00:00 +0000</pubDate><guid>/archives/1638.html</guid><description>&lt;p&gt;黑群晖Moments 1.3以上版本存在无法智能识别人物和主题分类等功能，如果你的黑群晖系统是6.2.2以下的系统，可以直接&lt;a href="https://www.chrno.cn/nas/1506.html"&gt;点击下载&lt;/a&gt;Moments1.2旧版本解决问题。6.2.2系统无法安装1.2版本的Moments，会提示版本不兼容，下面我们就来修复1.3Moments套件智能识别的问题。&lt;/p&gt;
&lt;p&gt;修复原理：将Moments1.2版本的libsynophoto-plugin-detection.so文件替换到Moments1.3版本中使用。&lt;/p&gt;
&lt;p&gt;1.停止Moments套件，群晖控制面板-终端机和SNMP-启用SSH功能。&lt;/p&gt;
&lt;p&gt;2.下载 &lt;a href="https://zbds.lanzous.com/ic2n8bg"&gt;libsynophoto-plugin-detection.so&lt;/a&gt; 文件&lt;/p&gt;
&lt;p&gt;3.通过SSH 登录群晖，我使用的是WinSCP结合putty，登录 root 账号，6.2.2切换root用户指令&lt;/p&gt;
&lt;table class="crayon-table"&gt;&lt;tbody&gt;&lt;tr class="crayon-row"&gt;&lt;td class="crayon-nums " data-settings="show"&gt;&lt;div class="crayon-nums-content"&gt;&lt;div class="crayon-num" data-line="crayon-5ea9454206a2f166642544-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-5ea9454206a2f166642544-2"&gt;2&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre"&gt;&lt;div id="crayon-5ea9454206a2f166642544-1" class="crayon-line"&gt;&lt;span class="crayon-c"&gt;//管理员切换root用户&lt;/span&gt;&lt;/div&gt;&lt;div id="crayon-5ea9454206a2f166642544-2" class="crayon-line crayon-striped-line"&gt;&lt;span class="crayon-v"&gt;sudo&lt;/span&gt; &lt;span class="crayon-o"&gt;-&lt;/span&gt;&lt;span class="crayon-v"&gt;i&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;
&lt;p&gt;4.备份原文件&lt;/p&gt;
&lt;table class="crayon-table"&gt;&lt;tbody&gt;&lt;tr class="crayon-row"&gt;&lt;td class="crayon-nums " data-settings="show"&gt;&lt;div class="crayon-nums-content"&gt;&lt;div class="crayon-num" data-line="crayon-5ea9454206a38493220724-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-5ea9454206a38493220724-2"&gt;2&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre"&gt;&lt;div id="crayon-5ea9454206a38493220724-1" class="crayon-line"&gt;&lt;span class="crayon-c"&gt;//备份原文件&lt;/span&gt;&lt;/div&gt;&lt;div id="crayon-5ea9454206a38493220724-2" class="crayon-line crayon-striped-line"&gt;&lt;span class="crayon-v"&gt;mv&lt;/span&gt; &lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-t"&gt;var&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-v"&gt;packages&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-v"&gt;SynologyMoments&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-v"&gt;target&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-v"&gt;usr&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-v"&gt;lib&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-v"&gt;libsynophoto&lt;/span&gt;&lt;span class="crayon-o"&gt;-&lt;/span&gt;&lt;span class="crayon-v"&gt;plugin&lt;/span&gt;&lt;span class="crayon-o"&gt;-&lt;/span&gt;&lt;span class="crayon-v"&gt;detection&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;so&lt;/span&gt; &lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-t"&gt;var&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-v"&gt;packages&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-v"&gt;SynologyMoments&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-v"&gt;target&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-v"&gt;usr&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-v"&gt;lib&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-v"&gt;libsynophoto&lt;/span&gt;&lt;span class="crayon-o"&gt;-&lt;/span&gt;&lt;span class="crayon-v"&gt;plugin&lt;/span&gt;&lt;span class="crayon-o"&gt;-&lt;/span&gt;&lt;span class="crayon-v"&gt;detection&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;so&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;bak&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;
&lt;p&gt;[caption id=&amp;ldquo;attachment_1641&amp;rdquo; align=&amp;ldquo;alignnone&amp;rdquo; width=&amp;ldquo;802&amp;rdquo;]&lt;a href="https://img-cloud.zhoujie218.top/wp-content/uploads/2020/04/unnamed-file-21.png"&gt;
 &lt;a data-fancybox="gallery" href="https://img-cloud.zhoujie218.top/wp-content/uploads/2020/04/unnamed-file-21.png"&gt;
 &lt;img class="mx-auto" alt="QQ图片20200305172057" src="https://img-cloud.zhoujie218.top/wp-content/uploads/2020/04/unnamed-file-21.png" /&gt;
 &lt;/a&gt;
 &lt;/a&gt; QQ图片20200305172057[/caption]&lt;/p&gt;
&lt;p&gt;5.将下载的libsynophoto-plugin-detection.so文件放到 &lt;code&gt;/var/packages/SynologyMoments/target/usr/lib/&lt;/code&gt; 路径下。我们还是需要通过SSH指令输入。比如我先将文件上传到群晖位于储存空间1上的File文件夹下，然后通过mv指令移动到我们需要的目录下，大家根据自己的情况自行修改指令。&lt;/p&gt;
&lt;table class="crayon-table"&gt;&lt;tbody&gt;&lt;tr class="crayon-row"&gt;&lt;td class="crayon-nums " data-settings="show"&gt;&lt;div class="crayon-nums-content"&gt;&lt;div class="crayon-num" data-line="crayon-5ea9454206a3c578210266-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-5ea9454206a3c578210266-2"&gt;2&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre"&gt;&lt;div id="crayon-5ea9454206a3c578210266-1" class="crayon-line"&gt;&lt;span class="crayon-c"&gt;//群晖储存空间1上的File文件夹下的libsynophoto-plugin-detection.so文件复制到Moments套件中&lt;/span&gt;&lt;/div&gt;&lt;div id="crayon-5ea9454206a3c578210266-2" class="crayon-line crayon-striped-line"&gt;&lt;span class="crayon-v"&gt;mv&lt;/span&gt; &lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-v"&gt;volume1&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-v"&gt;File&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-v"&gt;libsynophoto&lt;/span&gt;&lt;span class="crayon-o"&gt;-&lt;/span&gt;&lt;span class="crayon-v"&gt;plugin&lt;/span&gt;&lt;span class="crayon-o"&gt;-&lt;/span&gt;&lt;span class="crayon-v"&gt;detection&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;so&lt;/span&gt; &lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-t"&gt;var&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-v"&gt;packages&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-v"&gt;SynologyMoments&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-v"&gt;target&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-v"&gt;usr&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-v"&gt;lib&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-v"&gt;libsynophoto&lt;/span&gt;&lt;span class="crayon-o"&gt;-&lt;/span&gt;&lt;span class="crayon-v"&gt;plugin&lt;/span&gt;&lt;span class="crayon-o"&gt;-&lt;/span&gt;&lt;span class="crayon-v"&gt;detection&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;so&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;
&lt;p&gt;6.修改libsynophoto-plugin-detection.so文件的组和拥有者为SynologyMoments，并修改文件权限为0755，如下图。&lt;a href="https://www.chrno.cn/wp-content/uploads/2020/03/2020030509320277.png"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;table class="crayon-table"&gt;&lt;tbody&gt;&lt;tr class="crayon-row"&gt;&lt;td class="crayon-nums " data-settings="show"&gt;&lt;div class="crayon-nums-content"&gt;&lt;div class="crayon-num" data-line="crayon-5ea9454206a3f892892112-1"&gt;1&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-5ea9454206a3f892892112-2"&gt;2&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-5ea9454206a3f892892112-3"&gt;3&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-5ea9454206a3f892892112-4"&gt;4&lt;/div&gt;&lt;div class="crayon-num" data-line="crayon-5ea9454206a3f892892112-5"&gt;5&lt;/div&gt;&lt;div class="crayon-num crayon-striped-num" data-line="crayon-5ea9454206a3f892892112-6"&gt;6&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="crayon-code"&gt;&lt;div class="crayon-pre"&gt;&lt;div id="crayon-5ea9454206a3f892892112-1" class="crayon-line"&gt;&lt;span class="crayon-c"&gt;//首先root账户进入到Moments文件夹下&lt;/span&gt;&lt;/div&gt;&lt;div id="crayon-5ea9454206a3f892892112-2" class="crayon-line crayon-striped-line"&gt;&lt;span class="crayon-v"&gt;cd&lt;/span&gt; &lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-t"&gt;var&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-v"&gt;packages&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-v"&gt;SynologyMoments&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-v"&gt;target&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-v"&gt;usr&lt;/span&gt;&lt;span class="crayon-o"&gt;/&lt;/span&gt;&lt;span class="crayon-v"&gt;lib&lt;/span&gt;&lt;/div&gt;&lt;div id="crayon-5ea9454206a3f892892112-3" class="crayon-line"&gt;&lt;span class="crayon-c"&gt;//修改libsynophoto-plugin-detection.so文件组为SynologyMoments&lt;/span&gt;&lt;/div&gt;&lt;div id="crayon-5ea9454206a3f892892112-4" class="crayon-line crayon-striped-line"&gt;&lt;span class="crayon-e"&gt;chgrp &lt;/span&gt;&lt;span class="crayon-e"&gt;SynologyMoments &lt;/span&gt;&lt;span class="crayon-v"&gt;libsynophoto&lt;/span&gt;&lt;span class="crayon-o"&gt;-&lt;/span&gt;&lt;span class="crayon-v"&gt;plugin&lt;/span&gt;&lt;span class="crayon-o"&gt;-&lt;/span&gt;&lt;span class="crayon-v"&gt;detection&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;so&lt;/span&gt;&lt;/div&gt;&lt;div id="crayon-5ea9454206a3f892892112-5" class="crayon-line"&gt;&lt;span class="crayon-c"&gt;//修改libsynophoto-plugin-detection.so文件拥有者为SynologyMoments&lt;/span&gt;&lt;/div&gt;&lt;div id="crayon-5ea9454206a3f892892112-6" class="crayon-line crayon-striped-line"&gt;&lt;span class="crayon-e"&gt;chown &lt;/span&gt;&lt;span class="crayon-e"&gt;SynologyMoments &lt;/span&gt;&lt;span class="crayon-v"&gt;libsynophoto&lt;/span&gt;&lt;span class="crayon-o"&gt;-&lt;/span&gt;&lt;span class="crayon-v"&gt;plugin&lt;/span&gt;&lt;span class="crayon-o"&gt;-&lt;/span&gt;&lt;span class="crayon-v"&gt;detection&lt;/span&gt;&lt;span class="crayon-sy"&gt;.&lt;/span&gt;&lt;span class="crayon-v"&gt;so&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;
&lt;p&gt;[caption id=&amp;ldquo;attachment_1642&amp;rdquo; align=&amp;ldquo;alignnone&amp;rdquo; width=&amp;ldquo;363&amp;rdquo;]&lt;a href="https://img-cloud.zhoujie218.top/wp-content/uploads/2020/04/unnamed-file-22.png"&gt;
 &lt;a data-fancybox="gallery" href="https://img-cloud.zhoujie218.top/wp-content/uploads/2020/04/unnamed-file-22.png"&gt;
 &lt;img class="mx-auto" alt="QQ图片20200305173151" src="https://img-cloud.zhoujie218.top/wp-content/uploads/2020/04/unnamed-file-22.png" /&gt;
 &lt;/a&gt;
 &lt;/a&gt; QQ图片20200305173151[/caption]&lt;/p&gt;
&lt;p&gt;7.修改完成后退出，启动Moments套件，并重新建立索引，就可以正常AI识别人物和主题了。&lt;/p&gt;</description></item></channel></rss>